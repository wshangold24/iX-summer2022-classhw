{"ast":null,"code":"import { collection, addDoc, query, getDocs, doc, updateDoc, deleteDoc } from \"firebase/firestore\";\nimport { db } from \"../firebase/firebase\";\nimport { Task } from \"../models/task.js\";\n\nclass TaskService {\n  constructor() {\n    this.collection = \"tasks\";\n  } // create\n\n\n  async createTask(task) {\n    const collectionRef = collection(db, this.collection);\n    const docRef = await addDoc(collectionRef, {\n      name: task.name,\n      complete: task.complete\n    });\n    task.id = docRef.id;\n    return task;\n  } // read\n\n\n  async fetchTasks() {\n    const q = query(collection(db, this.collection));\n    const querySnapshot = await getDocs(q);\n    const tasks = [];\n    querySnapshot.forEach(doc => {\n      const data = doc.data();\n      tasks.push(new Task(doc.id, data.name, data.complete));\n    });\n    return tasks;\n  } // update\n\n\n  async updateTask(task) {\n    const docReference = doc(db, this.collection, task.id);\n    await updateDoc(docReference, {\n      name: task.name,\n      complete: task.complete\n    });\n    return task;\n  } // delete\n\n\n  async deleteTask(taskId) {\n    const docReference = doc(db, this.collection, taskId);\n    await deleteDoc(docReference);\n  }\n\n}\n\nconst service = new TaskService();\nexport default service;","map":{"version":3,"names":["collection","addDoc","query","getDocs","doc","updateDoc","deleteDoc","db","Task","TaskService","constructor","createTask","task","collectionRef","docRef","name","complete","id","fetchTasks","q","querySnapshot","tasks","forEach","data","push","updateTask","docReference","deleteTask","taskId","service"],"sources":["/Users/willshangold/Documents/Summer 2022- Work/iXperience/Week 2/Day 10/task-list-routing/src/services/task.service.js"],"sourcesContent":["import {\n  collection,\n  addDoc,\n  query,\n  getDocs,\n  doc,\n  updateDoc,\n  deleteDoc,\n} from \"firebase/firestore\";\n\nimport { db } from \"../firebase/firebase\";\nimport { Task } from \"../models/task.js\";\n\nclass TaskService {\n  constructor() {\n    this.collection = \"tasks\";\n  }\n\n  // create\n  async createTask(task) {\n    const collectionRef = collection(db, this.collection);\n    const docRef = await addDoc(collectionRef, {\n      name: task.name,\n      complete: task.complete,\n    });\n\n    task.id = docRef.id;\n    return task;\n  }\n\n  // read\n  async fetchTasks() {\n    const q = query(collection(db, this.collection));\n    const querySnapshot = await getDocs(q);\n    const tasks = [];\n\n    querySnapshot.forEach((doc) => {\n      const data = doc.data();\n\n      tasks.push(new Task(doc.id, data.name, data.complete));\n    });\n    return tasks;\n  }\n\n  // update\n  async updateTask(task) {\n    const docReference = doc(db, this.collection, task.id);\n    await updateDoc(docReference, {\n      name: task.name,\n      complete: task.complete,\n    });\n    return task;\n  }\n\n  // delete\n  async deleteTask(taskId) {\n    const docReference = doc(db, this.collection, taskId);\n    await deleteDoc(docReference);\n  }\n}\n\nconst service = new TaskService();\nexport default service;\n"],"mappings":"AAAA,SACEA,UADF,EAEEC,MAFF,EAGEC,KAHF,EAIEC,OAJF,EAKEC,GALF,EAMEC,SANF,EAOEC,SAPF,QAQO,oBARP;AAUA,SAASC,EAAT,QAAmB,sBAAnB;AACA,SAASC,IAAT,QAAqB,mBAArB;;AAEA,MAAMC,WAAN,CAAkB;EAChBC,WAAW,GAAG;IACZ,KAAKV,UAAL,GAAkB,OAAlB;EACD,CAHe,CAKhB;;;EACgB,MAAVW,UAAU,CAACC,IAAD,EAAO;IACrB,MAAMC,aAAa,GAAGb,UAAU,CAACO,EAAD,EAAK,KAAKP,UAAV,CAAhC;IACA,MAAMc,MAAM,GAAG,MAAMb,MAAM,CAACY,aAAD,EAAgB;MACzCE,IAAI,EAAEH,IAAI,CAACG,IAD8B;MAEzCC,QAAQ,EAAEJ,IAAI,CAACI;IAF0B,CAAhB,CAA3B;IAKAJ,IAAI,CAACK,EAAL,GAAUH,MAAM,CAACG,EAAjB;IACA,OAAOL,IAAP;EACD,CAfe,CAiBhB;;;EACgB,MAAVM,UAAU,GAAG;IACjB,MAAMC,CAAC,GAAGjB,KAAK,CAACF,UAAU,CAACO,EAAD,EAAK,KAAKP,UAAV,CAAX,CAAf;IACA,MAAMoB,aAAa,GAAG,MAAMjB,OAAO,CAACgB,CAAD,CAAnC;IACA,MAAME,KAAK,GAAG,EAAd;IAEAD,aAAa,CAACE,OAAd,CAAuBlB,GAAD,IAAS;MAC7B,MAAMmB,IAAI,GAAGnB,GAAG,CAACmB,IAAJ,EAAb;MAEAF,KAAK,CAACG,IAAN,CAAW,IAAIhB,IAAJ,CAASJ,GAAG,CAACa,EAAb,EAAiBM,IAAI,CAACR,IAAtB,EAA4BQ,IAAI,CAACP,QAAjC,CAAX;IACD,CAJD;IAKA,OAAOK,KAAP;EACD,CA7Be,CA+BhB;;;EACgB,MAAVI,UAAU,CAACb,IAAD,EAAO;IACrB,MAAMc,YAAY,GAAGtB,GAAG,CAACG,EAAD,EAAK,KAAKP,UAAV,EAAsBY,IAAI,CAACK,EAA3B,CAAxB;IACA,MAAMZ,SAAS,CAACqB,YAAD,EAAe;MAC5BX,IAAI,EAAEH,IAAI,CAACG,IADiB;MAE5BC,QAAQ,EAAEJ,IAAI,CAACI;IAFa,CAAf,CAAf;IAIA,OAAOJ,IAAP;EACD,CAvCe,CAyChB;;;EACgB,MAAVe,UAAU,CAACC,MAAD,EAAS;IACvB,MAAMF,YAAY,GAAGtB,GAAG,CAACG,EAAD,EAAK,KAAKP,UAAV,EAAsB4B,MAAtB,CAAxB;IACA,MAAMtB,SAAS,CAACoB,YAAD,CAAf;EACD;;AA7Ce;;AAgDlB,MAAMG,OAAO,GAAG,IAAIpB,WAAJ,EAAhB;AACA,eAAeoB,OAAf"},"metadata":{},"sourceType":"module"}